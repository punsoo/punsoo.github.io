---
defaults:
  - scope:
      path: ""
      type: posts
    values:
      layout: single
      author_profile: true
      comments: true
      share: true
      related: true

title: "[SWEA] 점심 식사시간"
excerpt: "[SWEA] 점심 식사시간"
toc: true
toc_sticky: true
toc_label: "목차"
categories:
  - Coding Test
tags:
  - [Coding Test, SWEA]
date: 2021-05-05
last_modified_at: 2021-05-05
---
# [SWEA] 점심 식사시간

Problem URL : [점심 식사시간](https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV5-BEE6AK0DFAVl)

```cpp
# include <iostream>
# include <cstring>
# include <vector>
# include <algorithm>

using namespace std;

int n;
int map[11][11];
int peopleNum;
int answer;

struct Node {
    int x;
    int y;
    int value;
    int target;
    Node(int _x, int _y) : x(_x), y(_y) {};
    Node(int _x, int _y, int _value) : x(_x), y(_y), value(_value) {};
};

vector <Node> people;
vector <Node> stair;

int distance(Node person, Node stair) {
    int x = abs(person.x - stair.x);
    int y = abs(person.y - stair.y);

    return x + y;
}

void dfs(int idx) {
    if (idx == peopleNum ) {
        vector <int> stair0People;
        vector <int> stair1People;
        int stair0Length = stair[0].value;
        int stair1Length = stair[1].value;
        for (int i = 0; i < people.size(); i++) {
            if (people[i].target) {
                int tmp;
                tmp = distance(people[i], stair[1]);
                stair1People.push_back(tmp + stair1Length + 1);

            } else {
                int tmp;
                tmp = distance(people[i], stair[0]);
                stair0People.push_back(tmp + stair0Length + 1);

            }
        }

        int size0 = stair0People.size();
        int size1 = stair1People.size();

        int answerTmp = 0;
        if (size0 > 0) {
            sort(stair0People.begin(), stair0People.end());
            if (size0 >= 4) {
                for (int i = 3; i < size0; i++) {
                    int watingTime = stair0People[i - 3] + stair0Length - stair0People[i];
                    if (watingTime > 0) {
                        stair0People[i] = stair0People[i] + watingTime;
                    }
                }
            }
            answerTmp = stair0People.back();
        }

        if (size1 > 0) {
            sort(stair1People.begin(), stair1People.end());
            if (size1 >= 4) {
                for (int i = 3; i < size1; i++) {
                    int watingTime = stair1People[i - 3] + stair1Length - stair1People[i];                    
                    if (watingTime > 0) {
                        stair1People[i] = stair1People[i] + watingTime;
                    }
                }
            }
            answerTmp = answerTmp < stair1People.back() ? stair1People.back() : answerTmp;
        }
        answer = answer < answerTmp ? answer : answerTmp;
    } else {
        for (int i = 0; i < 2; i++) {
            people[idx].target = i;
            dfs(idx + 1);
        }
    }
}

int main() {

    int TC;
    cin >> TC;

    for (int tc = 1; tc <= TC; tc++) {

        answer = 2e9;
        cin >> n;
        memset(map, 0, sizeof(map));
        people.clear();
        stair.clear();

        for (int i = 1; i <= n; i++) {
            for (int j = 1; j <= n; j++) {
                scanf("%d", &map[i][j]);
                if (map[i][j] == 1) {
                    people.push_back(Node(i, j));
                } else if (map[i][j] > 1) {
                    stair.push_back(Node(i, j, map[i][j]));
                }
            }
        }

        peopleNum = people.size();

        dfs(0);

        cout << "#" << tc << " " << answer << endl;
    }

    return 0;
}
```